<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style> 
        .container {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 14px;
            line-height: 1.6;
            max-width: 860px;
            width: 80%;
            margin: 50px auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Impedit architecto aut quisquam et soluta quaerat iste illo ea dolores officiis nobis odit animi hic vitae quos commodi doloribus, iusto pariatur.</p>
        <p>Reprehenderit voluptatem cumque perspiciatis eos eaque officiis suscipit sunt hic, exercitationem aut numquam sequi rerum quaerat. Molestiae ullam exercitationem, ipsa error, delectus saepe vitae, perferendis praesentium officiis vel consectetur temporibus?</p>
        <p>Saepe ullam dolorum temporibus ipsam provident repudiandae aperiam a ad tempora suscipit iusto doloremque odio, ipsa cumque quaerat, cum rem dolor tenetur voluptatum! Perspiciatis, dolorem libero! Adipisci porro iure corporis!</p>
        <p>Facere laborum commodi illo ad quo porro nihil, repudiandae quam totam blanditiis? Commodi magni magnam dolores adipisci hic obcaecati blanditiis totam itaque esse molestias? Porro perspiciatis atque laudantium doloremque quisquam.</p>
        <p>Harum officiis repudiandae illo delectus dolore ratione reprehenderit corporis doloribus quaerat! Nam incidunt assumenda aliquam, eveniet officia cum commodi ea aperiam soluta harum laudantium. Earum animi doloribus expedita iusto atque.</p>
        <p>Pariatur blanditiis quaerat inventore? Exercitationem quibusdam quia, qui quos sapiente aut excepturi ut perspiciatis distinctio minima soluta doloribus maxime similique. Itaque placeat saepe nostrum sunt iusto iure dolorem, at doloremque.</p>
        <p>Aliquam molestias fugit, nulla odio quasi ad, numquam alias ipsum, quibusdam assumenda officia? Ullam, repudiandae a corporis unde provident placeat consequatur quisquam dolore illum ipsa quidem cum totam alias aperiam.</p>
        <p>Unde expedita quaerat repellendus quibusdam explicabo numquam, ut, maxime, officiis quis excepturi minima laborum doloribus ducimus beatae nihil. Corrupti ullam repellendus omnis dolor placeat maxime laudantium praesentium nulla doloremque consequatur?</p>
        <p>Consequuntur nulla illum quam animi fuga aspernatur ex, itaque assumenda provident ipsum rem tenetur odio ullam magni aliquam incidunt magnam laboriosam. Nemo mollitia sint cumque obcaecati expedita optio alias deleniti?</p>
        <p>Dicta rem ut exercitationem quas accusantium commodi quos aspernatur earum id eaque consequatur nobis labore voluptatum eius quidem aliquam neque totam expedita quisquam dolor excepturi recusandae, enim minima quo. Dolor?</p>
        <p>Eveniet labore consectetur assumenda quos nesciunt quasi deleniti quas animi fuga, rem doloremque corporis asperiores praesentium tenetur eos quidem cupiditate minima natus eaque sequi eum dignissimos? Adipisci provident temporibus impedit?</p>
        <p>Officiis minima eos culpa iste autem quia vitae earum, dolorum quasi rem dolore unde hic asperiores explicabo, assumenda repudiandae repellendus amet praesentium sint tempora beatae! Laborum, fugiat assumenda! Sapiente, officia.</p>
        <p>Amet asperiores quis, voluptate nam fugit ea mollitia provident aperiam, odit ducimus dignissimos nulla unde ex nisi sed laudantium possimus itaque, reiciendis est magnam ipsam aut! Alias facere aliquid pariatur!</p>
        <p>Unde, dolorem cupiditate? Eaque sit, inventore odio eos libero nesciunt modi iusto voluptas cupiditate totam omnis at, eveniet, excepturi sequi vel laudantium reprehenderit atque pariatur aliquid vero dolorum! Eveniet, natus!</p>
        <p>Nostrum quod aliquam ea vitae eaque debitis quisquam aliquid tenetur qui unde labore, totam et dolor quas facilis aspernatur eum. Magni optio dicta fugit velit necessitatibus corrupti praesentium sit aliquam.</p>
        <p>Sapiente, recusandae incidunt doloremque dolor repudiandae corrupti vitae ut tempora officia quas veritatis aliquam quisquam id eos officiis dolore autem voluptatum, sed placeat temporibus. Iusto autem mollitia officia unde perspiciatis!</p>
        <p>Corporis nihil, ipsam vero quaerat et rerum fugiat eos culpa expedita, libero minus molestias adipisci blanditiis nostrum enim non quas dignissimos, asperiores earum nam. Autem commodi accusamus provident nostrum eos!</p>
        <p>Officiis maxime labore reiciendis minus cumque assumenda, velit repellat! Culpa illo dolores suscipit aliquid possimus mollitia, animi voluptates in repellendus voluptas consequuntur reiciendis. Accusantium quos eos iste adipisci harum officiis!</p>
        <p>Earum ab pariatur, soluta obcaecati, sapiente voluptates nemo commodi nesciunt ex nam possimus odit reprehenderit dolorem reiciendis, repellat in saepe quasi. Vero veritatis consectetur voluptatibus, sequi laboriosam officia dicta adipisci.</p>
        <p>Eius molestias velit iure quam, omnis voluptatibus, numquam quia autem non vitae ab earum ducimus perferendis, maiores alias vel. Sunt, quidem dolorem! Autem, maiores nesciunt possimus voluptates blanditiis odit mollitia.</p>
        <p>Ad temporibus illum aspernatur perspiciatis quia! Aut itaque quis id laudantium reprehenderit et incidunt? Sequi laborum tempore nisi hic culpa praesentium nemo soluta vero adipisci, alias non iure provident amet.</p>
        <p>Expedita, voluptatibus sint provident odio placeat numquam. Quasi ab excepturi, natus hic explicabo reprehenderit quam nulla deserunt quibusdam. Doloribus corrupti illo voluptatum tempora illum unde, nemo in maiores fugiat voluptas?</p>
        <p>In modi iure sed assumenda maxime doloribus consequuntur commodi dolores quidem, nostrum sapiente labore veniam veritatis culpa ad voluptatum laudantium facilis rem itaque provident odit laboriosam. Delectus excepturi voluptas autem.</p>
        <p>Tempora, accusamus. Asperiores dolor cum, in fugiat molestiae autem architecto id quibusdam modi, deserunt maxime tempora totam. Temporibus aspernatur perferendis dolores hic molestias! Voluptatem laudantium hic quo dolores. Quos, recusandae.</p>
        <p>Adipisci a doloribus tempore commodi possimus officiis omnis eligendi quibusdam repudiandae deleniti, amet veniam odio eius, reiciendis cumque. Ipsam voluptatem laborum ipsa rerum laboriosam iste excepturi explicabo facere quasi nam?</p>
        <p>Placeat, adipisci asperiores consequuntur ducimus temporibus iusto atque officia consectetur provident pariatur accusantium ad illum quia voluptatibus sapiente totam reprehenderit quasi ea reiciendis fugit neque dolores, beatae sint! Quas, quae!</p>
        <p>Voluptatibus molestias fuga voluptates quas quis, voluptas aut ratione ipsam ducimus sequi quos! Tenetur voluptate similique voluptatem, accusantium laudantium reprehenderit soluta minus quae dicta veritatis at doloribus architecto voluptatum veniam.</p>
        <p>Enim, velit dignissimos. Officiis possimus, soluta ipsa minima quas nisi voluptates eum sint beatae ipsum itaque necessitatibus eligendi ad earum explicabo! Expedita magnam possimus fugiat aliquid, quisquam corrupti in accusantium.</p>
        <p>Eveniet, quod saepe laudantium natus tempore consequuntur assumenda! Quam sunt ipsum, iste dolor vitae, nulla facere consequatur, non natus rem quidem id cum consectetur sed veniam praesentium. Soluta, dolor porro?</p>
    </div>
    <script>
        const url = 'https://jsonplaceholder.typicode.com/users';
        let name = 'desconocido';
        let windowLoaded = false;
    
        setTimeout(() => {
            fetch(url)
            .then( rawUsers => rawUsers.json())
            .then( users => {
                name = users[0].name;
                if( windowLoaded) {
                    const event = new Event('load');
                    window.dispatchEvent(event);
                }
            })
        }, 100);

        window.addEventListener('load', (ev) => {
            if( name === 'desconocido') {
                ev.stopImmediatePropagation();
            }
            windowLoaded = true;
        });

        function getName() {
            return name;
        }

        function wastingTime() {
            const div = document.createElement('div');
            div.style.position = 'absolute';
            div.style.visibility = 'hidden';
            div.id = 'waiting';
            document.body.appendChild(div);
    
            const divCreated = document.getElementById('waiting');
            divCreated.getBoundingClientRect();
            divCreated.remove();
        }
        let i = 0;

        // die browser
        while(name === 'desconocido' || i < 10) {
            //wastingTime();
            i++;
        }
    </script>
    <script src="./script.js"></script>
</body>
</html>